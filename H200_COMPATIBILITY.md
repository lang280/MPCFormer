# H200 环境兼容性记录（sm_90）

本文记录为适配 H200 显卡（sm_90 架构）所采用的环境配置策略与关键经验。

## 配置策略与说明
- **非侵入性原则**：未对 MPCFormer 或 CrypTen 的核心业务代码进行任何侵入性修改，全部调整仅发生在运行环境与依赖层面。
- **核心运行栈**：通过安装 **PyTorch 2.1.2** 并搭配 **CUDA 12.1** 成功驱动 H200 底层硬件。
- **NumPy 版本处理**：为规避依赖冲突与兼容问题，进行了 **NumPy 降级**。
- **CrypTen 安装策略**：采用 **无依赖模式（no-deps）** 强制安装 CrypTen，从而绕开与现有依赖版本的冲突。

## 经验要点
1. 保持业务代码不变，将兼容性问题限定在依赖与驱动层。
2. 使用匹配 H200 的 CUDA 版本（12.1）与 PyTorch 版本组合。
3. 通过 NumPy 降级与 CrypTen 的 no-deps 安装方式解决依赖版本冲突。
